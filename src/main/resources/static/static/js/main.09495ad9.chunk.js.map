{"version":3,"sources":["utils/prototypeUtil.js","utils/HtmlUtils.js","app/LoginModal.jsx","api/ajax.js","api/index.js","components/simple-table/PureTable.jsx","components/simple-table/index.jsx","components/cache-input/index.jsx","components/select-input/SelectInput.jsx","components/default-table/index.jsx","components/drag-modal/DragModal.jsx","components/default-modal-button/DefaultModalButton.jsx","pages/JobManager/AddJob.jsx","components/simple-modal-button/index.jsx","pages/JobManager/StartJob.jsx","pages/JobManager/RunJob.jsx","pages/JobManager/StopJob.jsx","pages/JobManager/EditJob.jsx","config/menuConfig.jsx","pages/JobManager/index.jsx","pages/LogManager/index.jsx","app/index.jsx","serviceWorker.js","index.js"],"names":["Object","defineProperty","Date","prototype","value","fmt","o","this","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","length","Paragraph","isNull","obj","or","undefined","isNotNull","isEmpty","list","isNotEmpty","isEmptyObject","keys","isNotEmptyObject","isBlank","string","getParagraph","text","smallText","placement","content","ellipsis","style","marginBottom","Img","props","src","loading","alt","onClick","InputSelect","toString","onChange","onSelect","showSearch","autoClearSearchValue","allowClear","dropdownMatchSelectWidth","optionFilterProp","filterOption","inputSelectFilterOption","placeholder","size","For","resource","then","item","index","Option","key","input","option","children","toLowerCase","indexOf","runFunction","func","If","boolean","IfClass","result","object","Array","isArray","ForArray","ForObject","mapFun","map","filterFun","filter","flatMap","tmp","fun","answer","convertToPrams","pagination","filters","sorter","if","params","assign","toLine","field","sorted","order","emptyFunc","selfFunc","a","compose","firstFun","secondFun","enumerable","configurable","name","checkResp","data","success","message","error","defaultRowKey","record","idRowKey","id","defaultScroll","x","LoginModal","login","state","userName","password","onLogin","req","refresh","register","onRegister","setState","type","align","className","span","justify","layout","Item","label","labelCol","wrapperCol","event","target","onPressEnter","disabled","Component","service","axios","create","baseURL","get","url","handleGet","headers","paramsSerializer","Qs","stringify","arrayFormat","post","handlePost","promise","Promise","resolve","reject","window","location","reload","catch","reason","listJob","startJob","stopJob","runJob","addJob","editJob","listLog","PureTable","PureComponent","SimpleTable","handleSelectRow","callback","rowKey","isMultipleSelect","onSelectRow","selectedRowKey","selectedRowKeys","selectedRows","j","push","splice","handleClick","handleDoubleClick","onDoubleClick","paginationProps","showTotal","total","range","pageSizeOptions","position","showSizeChanger","showQuickJumper","e","includes","tagName","setTimeout","bind","scroll","pageSize","current","columns","bordered","dataSource","rowClassName","components","onRow","CacheInput","startEdit","isEdit","cacheValue","endEdit","change","submit","paste","preventDefault","clipboardData","getData","width","onFocus","onBlur","onPaste","SelectInput","handleScroll","persist","rmHeight","scrollHeight","scrollTop","clHeight","clientHeight","scrollPage","handleBlur","mode","someFilters","onPopupScroll","DefaultTable","componentDidMount","columnsConfig","newColumn","onResourceLoaded","getResources","refreshWithPrams","resources","updateFilters","defaultFilters","handleUpdated","getDataByCondition","onGetData","isSubmit","reqId","random","dataLoading","getDataApi","updateSelectedRow","needResourcesList","onResourcesInit","otherResources","resourcesLoading","keyList","newSelectedRows","newSelectedRowKeys","setSelectRows","getDefaultParams","defaultSorter","defaultPageSize","defaultCurrent","getRowHtml","document","getElementsByClassName","setParams","onUpdateParams","updateParams","setFilter","forEach","element","clearFilters","refreshWithDefaultPrams","handleRefresh","handleReset","handleSelectRows","handleNotSelectAll","handleSelectAll","handleTableChange","handleKeyUp","keyCode","visible","clickRow","handleVisibleChange","handleRowClassName","row","onRowClassName","columnConfig","column","title","dataIndex","newSearchColumn","newChooseColumn","newSorterColumn","newChooseRenderColumn","newImage","newChooseInput","newButtonColumn","render","oldRender","split","splitToList","afterRender","href","rel","chooseMap","filteredValue","filterMultiple","tag","newTag","renderHidden","sortOrder","converseUrl","height","maxWidth","else","onButtonColumnInit","color","defaultParams","prevProps","prevState","snapshot","onButtonsInit","selectRowLength","rowLength","onKeyUp","tabIndex","elseIf","endIf","isShowRowSelection","onSelectAll","DragModal","initDragDom","dragDom","console","log","left","initLeft","minWidth","top","zIndex","onShowModal","from","onMouseDown","dragging","dragDomRect","getBoundingClientRect","left0","clientX","top0","clientY","onmousemove","onMouseUp","Number","now","innerWidth","isInteger","parseFloat","tLeft","tTop","nextProps","nextState","nextContext","wrapClassName","isHidden","mask","ref","ele","modal","TextArea","DefaultModalButton","setVisible","onVisibleChange","getVisible","handleShowModal","selectedRow","formConfig","isShow","newState","config","selectedIndex","showModal","handleOk","onSuccess","isTheGroup","groupBy","every","format","childConfig","join","modalRender","closeModal","updateApi","handleCancel","handleChange","col","buttonStyle","marginLeft","hidden","confirmLoading","onOk","onCancel","footer","centered","converseToForm","onSubmit","gutter","flatThen","param","jndex","converseToFormItem","min","max","suffix","autoSize","itemCol","listKey","margin","showTime","AddJob","SimpleModalButton","isShowModal","isCloseModal","finally","buttonText","StartJob","status","RunJob","StopJob","EditJob","menuList","icon","component","handleButtonsInit","that","handleResourcesInit","statusList","successList","Header","Content","Sider","Title","menuMap","App","checkIsLogin","loginOut","user","reqLoginOut","reqLogin","username","toggleCollapsed","collapsed","handleSelected","selectedKey","createMenu","menu","to","selected","background","float","level","strong","selectable","theme","textAlign","duration","interval","componentProps","selectedKeys","borderRight","marginTop","reqRegister","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.09495ad9.chunk.js","sourcesContent":["/*eslint no-extend-native: [\"error\", { \"exceptions\": [\"Date\"] }]*/\nObject.defineProperty(Date.prototype, \"format\", {value: function(fmt) {\n    var o = {\n        \"M+\": this.getMonth() + 1,                 //月份\n        \"d+\": this.getDate(),                    //日\n        \"h+\": this.getHours(),                   //小时\n        \"m+\": this.getMinutes(),                 //分\n        \"s+\": this.getSeconds(),                 //秒\n        \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n        \"S\": this.getMilliseconds()             //毫秒\n    };\n    if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n    }\n    for (var k in o) {\n        if (new RegExp(\"(\" + k + \")\").test(fmt)) {\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n        }\n    }\n    return fmt;\n}});\n\n\n// String.prototype.endsWith = function(str){\n//     if(isEmpty(str) || str.length > this.length) return false;\n//     return this.substring(this.length - str.length) === str;\n// }\n// String.prototype.startsWith=function(str){\n//     if(isEmpty(str) || str.length > this.length) return false;\n//     return this.substr(0, str.length) === str;\n// }\n// String.prototype.contains=function(str){\n//     if(isEmpty(str) || str.length > this.length) return false;\n//     return this.indexOf(str) >= 0;\n// }","import React from \"react\";\nimport {Popover, Typography, message, Select} from \"antd\";\nconst { Paragraph } = Typography;\n\nexport const isNull = (obj, or) => {\n    if (or === undefined) {\n        return obj === undefined || obj === null;\n    }else {\n        return obj === undefined || obj === null? or: obj;\n    }\n};\nexport const isNotNull = obj => !isNull(obj);\nexport const isEmpty = list => list === undefined || list === null || list.length === 0;\nexport const isNotEmpty = list =>  !isEmpty(list);\nexport const isEmptyObject = obj => isNull(obj) || Object.keys(obj).length === 0\nexport const isNotEmptyObject = obj => !isEmptyObject(obj)\nexport const isBlank = (string, or) => or === undefined\n    ? string === undefined || string === null || string.length === 0\n    : string === undefined || string === null || string.length === 0? or: string;\nexport const isNotBlank = (string, or) => or === undefined? !isBlank(string): !isBlank(string)? or: string\n\nexport function getParagraph(text, smallText) {\n    return (\n        <Popover placement=\"right\" content={text}>\n            <Paragraph ellipsis style={{marginBottom: \"0em\"}}>{smallText || text}</Paragraph>\n        </Popover>\n    )\n}\nexport const Img = (props) => {\n    return <img src={props.loading?\"/loading.png\":props.src} style={props.style} alt={props.alt} onClick={props.onClick}/>\n}\n\nexport const InputSelect = (props) => (\n    <Select value={isNull(props.value)? props.value: props.value.toString()} onChange={props.onChange} onSelect={props.onSelect} showSearch autoClearSearchValue allowClear dropdownMatchSelectWidth optionFilterProp=\"children\" filterOption={inputSelectFilterOption} placeholder={props.placeholder} size={props.size}>\n        {For(props.resource).then((item, index) => (\n            <Select.Option key={index} value={isNull(item.value)? item.value: item.value.toString()}>{isNull(item.text)? item.text: item.text.toString()}</Select.Option>\n        ))}\n    </Select>\n)\n\nexport const inputSelectFilterOption = (input, option) => {\n    return option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n}\n\n//注意，此工具会会渲染每个条件的全部元素，注意性能和空值处理\nconst runFunction = func => typeof func === \"function\"? func(): func;\nexport function If(boolean) {\n    return new IfClass(boolean);\n}\n\nexport class IfClass {\n    constructor(boolean) {\n        this.boolean = boolean;\n        this.result = null;\n    }\n\n    if (boolean) {\n        this.boolean = boolean;\n        return this;\n    }\n\n    then (result) {\n        if (this.boolean && this.result == null) {\n            this.result = result;\n        }\n        return this;\n    }\n\n    elseIf (boolean) {\n        this.boolean = boolean;\n        return this;\n    }\n\n    else (result) {\n        if (this.result != null) {\n            return runFunction(this.result);\n        }else {\n            return runFunction(result);\n        }\n    }\n\n    endIf () {\n        return runFunction(this.result);\n    }\n}\n\nexport const For = object => {\n    if (Array.isArray(object)) {\n        return new ForArray(object);\n    }\n    if (typeof object === 'object') {\n        return new ForObject(object);\n    }\n    return new ForArray([]);\n}\n\nclass ForArray {\n    constructor(list) {\n        this.list = list;\n    }\n    then(mapFun) {\n        return this.list.map(mapFun)\n    }\n    if(filterFun) {\n        this.list = this.list.filter(filterFun)\n        return this;\n    }\n    flatThen(mapFun) {\n        return this.list.flatMap(mapFun);\n    }\n}\n\nclass ForObject {\n    constructor(object) {\n        this.object = object;\n    }\n    then(mapFun) {\n        const tmp = {};\n        for (const key of Object.keys(this.object)) {\n            tmp[key] = mapFun(key, this.object[key]);\n        }\n        return tmp;\n    }\n    if(filterFun) {\n        const tmp = {};\n        for (const key of Object.keys(this.object)) {\n            if (filterFun(key, this.object[key])) {\n                tmp[key] = this.object[key];\n            }\n        }\n        this.object = tmp;\n        return this;\n    }\n    every(fun) {\n        let answer = true\n        for (const key of Object.keys(this.object)) {\n            answer &= fun(key, this.object[key]);\n        }\n        return answer;\n    }\n}\n\n\nexport const convertToPrams = (pagination = {}, filters = {}, sorter = {}) => {\n    filters = For(filters).if((key,value) => isNotNull(value))\n        .then((key, value) => value[0]);\n    const params = Object.assign({}, filters, pagination);\n    if (isNotEmptyObject(sorter)) {\n        params.sorter = toLine(sorter.field)\n        params.sorted = sorter.order === 'descend' ? 'desc' : 'asc';\n    }\n    // return {query: params};\n    return params\n}\n\nexport const emptyFunc = () => {}\nexport const selfFunc = a => a\n\nexport const compose = (firstFun = selfFunc, secondFun = selfFunc) => {\n    return (...props) => secondFun(firstFun(...props));\n}\n\nexport const defineProperty = (obj, key, value) => {\n    return Object.defineProperty(obj, key, {\n        enumerable: true,\n        configurable: true,\n        value\n    })\n}\n\nexport const toLine = (name) => {\n    return name.replace(/([A-Z])/g,\"_$1\").toLowerCase();\n}\n\nexport const splitToList = (key, text) => {\n    if (isNotNull(text)) {\n        return text.split(key).map(text => <p key={text} style={{marginBottom: \"0em\"}}>{text}</p>);\n    }\n}\n\nexport const checkResp = data => {\n    if (isNull(data)) {\n        data = {};\n    }\n    if (isNull(data.success)) {\n        data.success = true;\n    }\n    if(!data.success) {\n        message.error(isBlank(data.message, '失败'));\n        return data;\n    } else {\n        return data;\n    }\n}\n\nexport const defaultRowKey = (record, index) => index;\nexport const idRowKey = (record, index) => record.id;\n\nexport const defaultScroll = {x:1}","import React, {Component} from \"react\";\nimport {Button, Col, Form, Icon, Input, Row} from \"antd\";\n\nexport default class LoginModal extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            userName: null,\n            password: null,\n        }\n    }\n\n    login = () => {\n        const { userName, password } = this.state;\n        this.props.onLogin(userName, password, req => {\n            if (req.data?.success === true) {\n                this.refresh();\n            }\n        })\n    }\n\n    register = () => {\n        const { userName, password } = this.state;\n        this.props.onRegister(userName, password);\n        this.refresh();\n    }\n\n    refresh = () => {\n        this.setState({\n            userName: null,\n            password: null,\n        })\n    }\n\n    render() {\n        return <Row type=\"flex\" align=\"middle\" className=\"max-height\">\n            <Col span={24}>\n                <Row type=\"flex\" justify=\"space-around\">\n                    <Col>\n                        <Icon type=\"lock\" className=\"primary-color font-size-100px\"/>\n                    </Col>\n                </Row>\n                <Row type=\"flex\" justify=\"space-around\">\n                    <Col span={6}>\n                        <Form layout=\"horizontal\">\n                            <Form.Item label=\"用户名\" labelCol={{ span: 6 }} wrapperCol={{ span: 12 }}>\n                                <Input value={this.state.userName} onChange={event => this.setState({userName: event.target.value})} type=\"userName\"/>\n                            </Form.Item>\n                            <Form.Item label=\"密码\" labelCol={{ span: 6 }} wrapperCol={{ span: 12 }}>\n                                <Input value={this.state.password} onChange={event => this.setState({password: event.target.value})} onPressEnter={this.login} type=\"password\"/>\n                            </Form.Item>\n                            <Form.Item>\n                                <Row type=\"flex\" justify=\"space-around\" align=\"middle\">\n                                    <Col>\n                                        <Button type=\"primary\" onClick={this.login}>\n                                            登陆\n                                        </Button>\n                                    </Col>\n                                    <Col>\n                                        <Button type=\"primary\" onClick={this.register} disabled>\n                                            注册\n                                        </Button>\n                                    </Col>\n                                </Row>\n                            </Form.Item>\n                        </Form>\n                    </Col>\n                </Row>\n            </Col>\n        </Row>\n    }\n\n}","/*\n发送异步ajax请求函数模块\n    |- 封装axios库\n    |- 函数返回promise对象\n */\n\nimport axios from 'axios'\n// import {hashHistory} from \"react-router-dom\"\n\n\nimport {message} from \"antd\"\nimport  Qs from 'qs';\nimport {isNull} from \"../utils/HtmlUtils\";\n\nconst service = axios.create({\n    baseURL: '/api/'\n})\n\nexport function get(url,data={}) {\n    return handleGet(service.get(url, {\n        params: data,\n        headers:{\"Content-Type\": \"application/json\"},\n        paramsSerializer: function(params) {\n            return Qs.stringify(params, {arrayFormat: 'repeat'})\n        },\n    }))\n}\n\nexport function post(url, data = {}) {\n    return handlePost(service.post(url, data, {\n        headers:{\"Content-Type\": \"application/json\"}\n    }))\n}\n\nexport function del(url, data = {}) {\n    return handlePost(service.delete(url, data, {\n        headers:{\"Content-Type\": \"application/json\"}\n    }))\n}\n\nexport function patch(url, data = {}) {\n    return handlePost(service.patch(url, data, {\n        headers:{\"Content-Type\": \"application/json\"}\n    }))\n}\nfunction handleGet(promise) {\n    return new Promise((resolve, reject) => {\n        promise.then(req => {\n            if (isNull(req.data)) {\n                message.error( \"请求失败\")\n                reject(req)\n            }\n            const data = req.data;\n            if (data.success) {\n                resolve(data.data)\n            } else if (data.message === \"请重新登录\") {\n                window.location.reload();\n            } else {\n                message.error(isNull(data.message, \"请求失败\"));\n                reject(req)\n            }\n        }).catch(reason => {\n            message.error(isNull(reason.message, \"请求异常2\"));\n            reject(reason)\n        });\n    })\n}\n\nfunction handlePost(promise) {\n    return new Promise((resolve, reject) => {\n        promise.then(req => {\n            if (isNull(req.data)) {\n                message.error( \"请求异常\")\n                reject(req)\n            }\n            const data = req.data;\n            if (data.success) {\n                message.success(isNull(data.message, \"请求成功\"))\n                resolve(data.data)\n            } else if (data.message === \"请重新登录\") {\n                window.location.reload();\n            } else {\n                message.error(isNull(data.message, \"请求失败\"));\n                reject(req)\n            }\n        }).catch(reason => {\n            message.error(isNull(reason.message, \"请求异常\"));\n            reject(reason)\n        });\n    })\n}\n","/*\n应用中所有接口请求模块\n    |- 每个接口返回的都是promise对象\n */\n\nimport {del, get, post} from \"./ajax\"\n\n// 登录\nexport const isLogin = () => get('/user/isLogin')\nexport const reqLogin = (userName, password) => post('/user/login', { userName, password })\nexport const reqLoginOut = () => post('/user/loginOut')\n\n// 获取资源列表\nexport const getResources = (data) => get('/resources', data)\n\n// Job列表\nexport const listJob = (data) => get('/job/list', data)\nexport const startJob = (data) => get(`/job/start`, data)\nexport const stopJob = (data) => get(`/job/stop`, data)\nexport const runJob = (data) => get(`/job/run`, data)\nexport const addJob = (data) => get(`/job/add`, data)\nexport const editJob = (data) => get(`/job/edit`, data)\n\n// Job执行记录\nexport const listLog = (data) => get('/log/list', data)\n","import React, {PureComponent} from \"react\";\nimport { Table } from 'antd';\n\nexport default class PureTable extends PureComponent{\n\n    // componentDidUpdate(prevProps, prevState, snapshot) {\n    //     if (this.props.columns.length > 30) {\n    //         console.log(\"main reload\")\n    //     }else if (this.props.columns.length > 20){\n    //         console.log(\"sub reload\");\n    //     }\n    //     for (const key of Object.keys(prevProps)) {\n    //         if (prevProps[key] !== this.props[key]) {\n    //             console.log(key)\n    //         }\n    //     }\n    // }\n\n\n    render() {\n        return (\n            <Table\n                {...this.props}\n            />\n        )\n    }\n\n}","import React, {PureComponent} from 'react';\nimport {defaultRowKey, emptyFunc} from \"../../utils/HtmlUtils\";\nimport PureTable from \"./PureTable\";\n\nexport default class SimpleTable extends PureComponent {\n\n    handleSelectRow = (record, index, callback) => {\n        const {rowKey=defaultRowKey,isMultipleSelect,onSelectRow=emptyFunc} = this.props;\n        const selectedRowKey = rowKey(record, index);\n\n        let {selectedRowKeys,selectedRows} = this.props;\n\n        if (isMultipleSelect !== true) {\n            selectedRowKeys = [selectedRowKey];\n            selectedRows = [record]\n        }else {\n            const j = selectedRowKeys.indexOf(selectedRowKey);\n            if (j === -1) {\n                selectedRows.push(record);\n                selectedRowKeys.push(selectedRowKey);\n            }else {\n                selectedRows.splice(j, 1);\n                selectedRowKeys.splice(j, 1);\n            }\n        }\n        onSelectRow(selectedRowKeys, selectedRows, callback)\n    }\n\n    handleClick = (record, index) => {\n        const {onClick=emptyFunc} = this.props;\n        this.handleSelectRow(record, index, () => {\n            onClick(record, index);\n        });\n    }\n\n    handleDoubleClick = (record, index) => {\n        const {onDoubleClick=emptyFunc} = this.props;\n        onDoubleClick(record, index)\n    }\n\n    paginationProps = {\n        showTotal: (total, range) => `${range[0]}-${range[1]} of ${total} items`,\n        pageSizeOptions: this.props.pageSizeOptions || ['5', '10', '20', '50', '100'],\n        position: this.props.position,\n        showSizeChanger: true,\n        showQuickJumper: true,\n    }\n\n    onClick = (record, index) => {\n        return {\n            onClick: e => {\n                if (['TD', 'DIV'].includes(e.target.tagName)) {\n                    setTimeout(this.handleClick.bind(this, record, index), 0);\n                }\n            },\n            onDoubleClick: e => {\n                if (['TD', 'DIV'].includes(e.target.tagName)) {\n                    setTimeout(this.handleDoubleClick.bind(this, record, index), 0);\n                }\n            }\n        }\n    }\n\n    render() {\n        const { data, rowKey, scroll, size} = this.props;\n        const { list, total, pageSize, current } = data;\n\n        this.paginationProps.pageSize = pageSize;\n        this.paginationProps.total = total;\n        this.paginationProps.current = current;\n\n        return (\n            <PureTable\n                columns={this.props.columns}\n                bordered\n                rowKey={rowKey || defaultRowKey}\n                size={size}\n                scroll={scroll}\n                dataSource={list}\n                pagination={this.paginationProps}\n                loading={this.props.loading}\n                onChange={this.props.onChange}\n                rowClassName={this.props.rowClassName}\n                components={this.props.components}\n                onRow={this.onClick}\n            />\n        );\n    }\n}\n","import React, {Component} from \"react\";\nimport {Input} from \"antd\";\nimport {isBlank} from \"../../utils/HtmlUtils\";\n\nexport default class CacheInput extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cacheValue: props.value,\n            isEdit: false,\n        }\n    }\n\n    startEdit = () => {\n        this.setState({isEdit: true, cacheValue: this.props.value})\n    }\n\n    endEdit = () => {\n        this.setState({isEdit: false, cacheValue: this.props.value})\n    }\n\n    change = e => {\n        this.setState({cacheValue: e.target.value})\n        if (! this.state.isEdit) {\n            this.props.onChange(isBlank(e.target.value, null))\n        }\n    }\n\n    submit = () => {\n        this.props.onChange(this.state.cacheValue);\n    }\n\n    paste = e => {\n        e.preventDefault();\n        const value = e.clipboardData.getData('Text');\n        this.setState({cacheValue: value})\n        this.props.onChange(value);\n    }\n\n    render() {\n        const {placeholder, value, width, size=\"small\", disabled=false} = this.props;\n        const {cacheValue, isEdit} = this.state;\n        return (\n            <Input\n                disabled={disabled}\n                size={size}\n                allowClear\n                placeholder={placeholder}\n                value={isEdit? cacheValue: value}\n                style={{width: `${width}px`}}\n                onFocus={this.startEdit}\n                onBlur={this.endEdit}\n                onChange={this.change}\n                onPressEnter={this.submit}\n                onPaste={this.paste}\n            />\n        )\n    }\n}","import React, {Component} from \"react\";\nimport {Select} from \"antd\";\nimport {For, inputSelectFilterOption, isNull} from \"../../utils/HtmlUtils\";\n\nexport default class SelectInput extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            scrollPage: 1,\n            // keyWords: '',\n            // optionData: [],\n        }\n    }\n    handleScroll = e => {\n        e.persist();\n        const { target } = e;\n        // scrollHeight：代表包括当前不可见部分的元素的高度\n        // scrollTop：代表当有滚动条时滚动条向下滚动的距离，也就是元素顶部被遮住的高度\n        // clientHeight：包括padding但不包括border、水平滚动条、margin的元素的高度\n        const rmHeight = target.scrollHeight - target.scrollTop;\n        const clHeight = target.clientHeight;\n        // 当下拉框失焦的时候，也就是不下拉的时候\n        if (rmHeight === 0 && clHeight === 0) {\n            this.setState({ scrollPage: 1 });\n        } else {\n            // 当下拉框下拉并且滚动条到达底部的时候\n            // 可以看成是分页，当滚动到底部的时候就翻到下一页\n            if (rmHeight < clHeight + 5) {\n                const { scrollPage } = this.state;\n                this.setState({ scrollPage: scrollPage + 1 });\n                //调用处理数据的函数增加下一页的数据\n                // this.loadOption(scrollPage + 1);\n            }\n        }\n    };\n\n    handleBlur = () => {\n        this.setState({ scrollPage: 1 });\n    }\n\n    render() {\n        const {width, placeholder, onChange, onSelect, filters=[], disabled, size, value, mode} = this.props;\n\n        const someFilters = filters.filter((filter, index) => index < this.state.scrollPage * 100)\n\n        return (\n            <div style={{width: `${width}px`}}>\n                <Select showSearch allowClear autoClearSearchValue dropdownMatchSelectWidth optionFilterProp=\"children\" size={size} value={value} placeholder={placeholder} onChange={onChange} onSelect={onSelect}  disabled={disabled} mode={mode}\n                        filterOption={inputSelectFilterOption}\n                        onPopupScroll={this.handleScroll}\n                        onBlur={this.handleBlur}\n                >\n                    {For(someFilters).then((item, index) => (\n                        <Select.Option key={index} value={isNull(item.value)? item.value: item.value.toString()}>\n                            {isNull(item.text)? item.text: item.text.toString()}\n                        </Select.Option>\n                    ))}\n                </Select>\n            </div>\n        )\n    }\n\n}","import React, {Component} from 'react';\nimport {Button, Card, Row, Tag, message} from \"antd\";\nimport {\n    checkResp,\n    compose,\n    defaultRowKey, defaultScroll,\n    defineProperty,\n    emptyFunc,\n    getParagraph,\n    If,\n    Img,\n    isEmpty,\n    isNotEmpty,\n    isNotNull,\n    isNull,\n    splitToList,\n    convertToPrams, selfFunc, isEmptyObject\n} from \"../../utils/HtmlUtils\";\nimport {getResources} from \"../../api\";\nimport './index.css'\nimport SimpleTable from \"../simple-table\";\nimport CacheInput from \"../cache-input\";\nimport SelectInput from \"../select-input/SelectInput\";\nexport default class DefaultTable extends Component {\n\n    constructor(props) {\n        super(props)\n\n        const defaultParams = this.getDefaultParams();\n\n        this.state = {\n            data: {},\n            resources: [],\n            columns: [],\n\n            pagination: defaultParams.pagination,\n            filters: defaultParams.filters,\n            sorter: defaultParams.sorter,\n\n            selectedRows: [],\n            selectedRowKeys: [],\n            clickRow: {},\n\n            dataLoading: true,\n            resourcesLoading: true,\n            visible: false,\n        }\n    }\n\n    componentDidMount = async () => {\n        this.setState({columns: this.props.columnsConfig.map(this.newColumn)})\n        if (isNull(this.props.onResourceLoaded)) {\n            this.getResources();\n            this.refreshWithPrams();\n        }else {\n            const resources = await this.getResources();\n            this.props.onResourceLoaded(resources, () => {\n                this.updateFilters(this.props.defaultFilters, this.handleUpdated)\n            });\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.filters !== this.props.filters) {\n            this.updateFilters(this.props.filters, this.handleUpdated)\n        }\n    }\n\n    getDataByCondition = async (pagination, filters, sorter) => {\n        const params = convertToPrams(pagination, filters, sorter)\n        const {onGetData=emptyFunc} = this.props;\n        const [isSubmit=true, error] = onGetData() || [];\n        if (isSubmit) {\n            // 只接收最后一次请求\n            const reqId = Math.random()\n            this.setState({dataLoading: true, reqId})\n            let data;\n            try {\n                data = await this.props.getDataApi(params).then(checkResp);\n            }catch (e) {\n                this.setState({dataLoading: false});\n            }\n            if (reqId === this.state.reqId) {\n                if (isNotNull(data)) {\n                    this.updateSelectedRow(data);\n                    this.setState({data});\n                }\n                this.setState({dataLoading: false});\n            }\n        }else if (isNotNull(error)){\n            message.error(error);\n        }\n    }\n\n    getResources = async callback => {\n        const needResourcesList = this.props.needResourcesList || [];\n        const resources = (this.props.onResourcesInit || emptyFunc)() || {};\n        if (isNotEmpty(needResourcesList)) {\n            const otherResources = await getResources({needResourcesList}).then(checkResp)\n            Object.assign(resources, otherResources);\n        }\n        this.setState({resources, resourcesLoading: false}, callback)\n        return resources;\n    }\n\n    updateSelectedRow = data => {\n        const {rowKey=defaultRowKey} = this.props;\n        const {selectedRowKeys} = this.state;\n        if (selectedRowKeys.length > 0) {\n            const {list=[]} = data;\n            const keyList = list.map(rowKey);\n            const newSelectedRows = [];\n            const newSelectedRowKeys = [];\n\n            for (const selectedRowKey of selectedRowKeys) {\n                const index = keyList.indexOf(selectedRowKey)\n                if (index !== -1) {\n                    newSelectedRowKeys.push(selectedRowKey);\n                    newSelectedRows.push(list[index]);\n                }\n            }\n            this.setSelectRows(newSelectedRowKeys, newSelectedRows)\n        }\n        return data;\n    }\n    getDefaultParams = () => {\n        return {\n            filters: Object.assign({},this.props.defaultFilters || {}, this.props.filters || {}),\n            sorter: Object.assign({}, this.props.defaultSorter) || {},\n            pagination: {\n                total: 0,\n                pageSize: isNull(this.props.defaultPageSize)? 10: this.props.defaultPageSize,\n                current: isNull(this.props.defaultCurrent)? 1: this.props.defaultCurrent,\n            },\n        }\n    }\n\n    getRowHtml = (rowKey) => {\n        return document.getElementsByClassName(\"row-\" + rowKey)[0]\n    }\n\n    setParams = (pagination=this.state.pagination, filters=this.state.filters, sorter=this.state.sorter, callback=emptyFunc) => {\n        (this.props.onUpdateParams || emptyFunc)(pagination, filters, sorter);\n        this.setState({pagination, filters, sorter}, callback)\n    }\n\n    updateParams = (pagination=this.state.pagination, filters={}, sorter=this.state.sorter, callback=emptyFunc) => {\n        this.setParams(pagination, Object.assign({}, this.state.filters, filters), sorter, callback);\n    }\n\n    updateFilters = (filters, callback=emptyFunc) => {\n        this.setParams(undefined, Object.assign({}, this.state.filters, filters), undefined, callback);\n    }\n\n    setFilter = (key, value, callback=emptyFunc) => {\n        this.updateFilters(defineProperty({}, key, value), callback);\n    }\n\n    setSelectRows = (selectedRowKeys, selectedRows, callback) => {\n        (this.state.data.list || []).map(this.props.rowKey).map(this.getRowHtml).forEach(element => {\n            element.className = element.className.replace(\" selected-row-color\", \"\");\n        })\n        selectedRowKeys.map(this.getRowHtml).forEach(element => {\n            element.className += ' selected-row-color';\n        })\n        this.setState({selectedRowKeys, selectedRows}, callback);\n    }\n\n    clearFilters = () => {\n        const { pagination, filters, sorter } = this.getDefaultParams();\n        this.setParams(pagination, filters, sorter)\n    }\n\n    refreshWithDefaultPrams = () => {\n        const { pagination, filters, sorter } = this.getDefaultParams();\n        this.getDataByCondition(pagination, filters, sorter);\n    }\n\n    refreshWithPrams = () => {\n        const { pagination, filters, sorter } = this.state;\n        this.getDataByCondition(pagination, filters, sorter);\n    }\n\n    handleRefresh = () => {\n        this.refreshWithPrams();\n    }\n\n    handleReset = () => {\n        this.clearFilters();\n        this.refreshWithDefaultPrams();\n    }\n\n    handleSelectRows = (selectedRowKeys, selectedRows, callback) => {\n        this.setSelectRows(selectedRowKeys, selectedRows, callback);\n    }\n\n    handleNotSelectAll = () => {\n        this.setSelectRows([],[]);\n    }\n\n    handleSelectAll = () => {\n        const selectedRows = [...this.state.data.list] || [];\n        const selectedRowKeys = selectedRows.map(this.props.rowKey);\n        this.setSelectRows(selectedRowKeys, selectedRows)\n    }\n\n    handleTableChange = (pagination, filters, sorter) => {\n        const {total, pageSize, current} = pagination;\n        pagination = {total, pageSize, current};\n        filters = Object.assign(this.state.filters, filters);\n        sorter = isEmptyObject(sorter)? this.props.defaultSorter: sorter;\n        this.setParams(pagination, filters, sorter)\n        this.getDataByCondition(pagination, filters, sorter);\n    }\n\n    handleUpdated = () => {\n        this.refreshWithPrams();\n    }\n\n    handleKeyUp = (e) => {\n        if (e.keyCode === 18) {\n            this.refreshWithPrams();\n        }\n    }\n\n    handleDoubleClick = (record) => {\n        this.setState({visible: true, clickRow: record})\n    }\n\n    handleVisibleChange = visible => {\n        this.setState({visible})\n    }\n\n    handleRowClassName = (row, index) => \"row-\" + (this.props.rowKey || defaultRowKey)(row, index)\n        + ((this.props.onRowClassName || emptyFunc)(row, index) || \"\");\n\n\n    render() {\n        const {onButtonsInit=emptyFunc,rowKey=defaultRowKey,isMultipleSelect=false} = this.props;\n        const {selectedRowKeys} = this.state;\n        const selectRowLength = selectedRowKeys.length;\n        const rowLength = (this.state.data.list || []).length;\n\n        let loading = this.state.dataLoading;\n\n        this.state.columns.map((column, index) => {\n            return Object.assign(column, this.newColumn(this.props.columnsConfig[index]));\n        })\n\n        return (\n            <Card onKeyUp={this.handleKeyUp} tabIndex=\"-1\" size=\"small\">\n                <Row type=\"flex\" className=\"margin-bottom-8\">\n                    <Button type=\"primary\" onClick={this.handleReset} className=\"margin-left-8\" disabled={loading}>重置</Button>\n                    <Button type=\"primary\" onClick={this.handleRefresh} className=\"margin-left-8\" disabled={loading}>刷新</Button>\n                    {If (isMultipleSelect && (selectRowLength < rowLength || rowLength === 0)).then(() => (\n                        <Button type=\"primary\" onClick={this.handleSelectAll} className=\"margin-left-8\" disabled={loading || rowLength === 0}>全选</Button>\n                    )).elseIf(isMultipleSelect && selectRowLength === rowLength).then(() => (\n                        <Button type=\"primary\" onClick={this.handleNotSelectAll} className=\"margin-left-8\" disabled={loading || rowLength === 0}>取消全选</Button>\n                    )).endIf()}\n                    {onButtonsInit(this)}\n                </Row>\n                <SimpleTable\n                    selectedRows={this.state.selectedRows}\n                    selectedRowKeys={selectedRowKeys}\n                    isMultipleSelect={this.props.isMultipleSelect}\n                    isShowRowSelection={true}\n                    onSelectRow={this.handleSelectRows}\n                    onClick={this.handleClick}\n                    onDoubleClick={this.handleDoubleClick}\n                    onSelectAll={this.handleSelectAll}\n                    size='small'\n                    scroll={defaultScroll}\n                    loading={loading}\n                    data={this.state.data}\n                    columns={this.state.columns}\n                    onChange={this.handleTableChange}\n                    rowKey={rowKey}\n                    rowClassName={this.handleRowClassName}\n                />\n            </Card>\n        )\n    }\n\n    newColumn = (columnConfig) => {\n        const column = {};\n        column.title = columnConfig.title;\n        column.key = columnConfig.key;\n        column.width = columnConfig.width;\n        column.dataIndex = columnConfig.dataIndex || columnConfig.key;\n        column.align = columnConfig.align || 'center';\n\n        if (columnConfig.type === 'search') {\n            this.newSearchColumn(column, columnConfig);\n        }else if (columnConfig.type === 'choose') {\n            this.newChooseColumn(column, columnConfig);\n        }else if (columnConfig.type === 'sorter') {\n            this.newSorterColumn(column, columnConfig);\n        }else if (columnConfig.type === 'chooseRender') {\n            this.newChooseRenderColumn(column, columnConfig);\n        }else if (columnConfig.type === 'image') {\n            this.newImage(column, columnConfig);\n        }else if (columnConfig.type === 'chooseInput') {\n            this.newChooseInput(column, columnConfig);\n        }else if (columnConfig.type === 'button') {\n            this.newButtonColumn(column, columnConfig);\n        }\n\n        if (isNotNull(columnConfig.ellipsis)) {\n            if (columnConfig.ellipsis === true) {\n                column.render = compose(column.render, getParagraph)\n            }else if (typeof columnConfig.ellipsis === 'string') {\n                const oldRender = column.render;\n                column.render = compose(oldRender, text => getParagraph(\n                    splitToList(columnConfig.ellipsis, text), text)\n                )\n            }\n        }else if (isNotNull(columnConfig.afterRender)) {\n            const oldRender = column.render || selfFunc;\n            column.render = (text, record) => columnConfig.afterRender(oldRender(text, record), record)\n        }else if (isNotNull(columnConfig.href)) {\n            const oldRender = column.render || selfFunc;\n            const afterRender = (value, record) => <a href={columnConfig.href(value, record)} target=\"_Blank\" rel=\"noopener noreferrer\">{value}</a>\n            column.render = (text, record) => afterRender(oldRender(text, record), record)\n        }\n\n        return column\n    }\n    newSearchColumn = (column, columnConfig) => {\n        const {filters} = this.state;\n\n        column.className = \"no-padding\";\n        column.title = (\n            <CacheInput\n                placeholder={columnConfig.title}\n                value={isNull(filters[columnConfig.key], [])[0]}\n                width={columnConfig.width}\n                onChange={value=>this.setFilter(columnConfig.key, [value], this.handleUpdated)}\n            />\n        );\n    }\n    newChooseColumn = (column, columnConfig) => {\n        const {filters, resources} = this.state;\n        const resource = resources[columnConfig.chooseMap];\n\n        column.filteredValue = filters[columnConfig.key] || null;\n        column.filterMultiple = false;\n        column.filters = resource;\n        this.newChooseRenderColumn(column, columnConfig);\n    }\n    newChooseRenderColumn = (column, columnConfig) => {\n        const {resources} = this.state;\n        const resource = resources[columnConfig.chooseMap];\n\n        column.render = key => {\n            if (isNotEmpty(resource) && isNotNull(key)) {\n                for (const item of resource) {\n                    if (item.value.toString() === key.toString()) {\n                        if (isNotNull(item.tag)) {\n                            return this.newTag(item.text, item.tag);\n                        }else if (item.renderHidden === true) {\n                            return '';\n                        }else {\n                            return item.text;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    newSorterColumn = (column,  columnConfig) => {\n        const {sorter} = this.state;\n\n        column.sorter = true;\n        column.sortOrder = sorter.field === columnConfig.key? (sorter.order || null) : null;\n    }\n    newImage = (column, columnConfig) => {\n        const converseUrl = src => isEmpty(src)? \"/loading.png\": src;\n\n        const {dataLoading:loading} = this.state;\n\n        column.className = \"no-padding\";\n        column.width = column.width || 60;\n        column.render = (src, row) => getParagraph(\n            <Img loading={loading} style={{width: '80px', height: '80px'}} alt='-' src={converseUrl(src, 80)}/>,\n            If(isNull(columnConfig.href)).then(() =>\n                <Img loading={loading} style={{height: '37px', maxWidth: '60px'}} alt='-' src={converseUrl(src, 60)}/>\n            ).else(() =>\n                <a href={columnConfig.href(src, row)} target=\"_Blank\" rel=\"noopener noreferrer\">\n                    <Img loading={loading} style={{ height: '37px', maxWidth: '60px' }} src={converseUrl(src, 60)} alt=\"-\"/>\n                </a>\n            )\n        )\n    }\n\n    newChooseInput = (column, columnConfig) => {\n        const {resources} = this.state;\n        let resource = resources[columnConfig.chooseMap];\n\n        if (Array.isArray(resource)) {\n            resource = [{text: '全部', value: \"----\"}, ...resource]\n        }\n\n        const handleSelectInputChange = value => {\n            if (value === \"----\") {\n                value = null\n            }\n            this.setFilter(columnConfig.key, [value]);\n        };\n        const handleSelectInputChanged = value => {\n            if (value === \"----\") {\n                value = null\n            }\n            this.setFilter(columnConfig.key, [value], this.handleUpdated);\n        };\n\n        column.className = \"no-padding\";\n        column.title = (\n            <SelectInput\n                size=\"small\"\n                width={columnConfig.width}\n                placeholder={columnConfig.title}\n                value={columnConfig.title}\n                onChange={handleSelectInputChange}\n                onSelect={handleSelectInputChanged}\n                filters={resource}\n            />\n        );\n\n        this.newChooseRenderColumn(column, columnConfig);\n    }\n\n    newButtonColumn = (column, columnConfig) => {\n        column.className = \"no-padding\";\n        column.render = (value, record) => (this.props.onButtonColumnInit || emptyFunc)(this, value, record);\n    }\n\n    newTag = (text, tag) => {\n        if (tag === 'no') {\n            return <Tag>{text}</Tag>\n        }\n        return <Tag color={tag}>{text}</Tag>\n    }\n}\n","import React, {Component} from \"react\";\nimport { Modal } from \"antd\";\nimport \"./DragModal.css\";\nimport {isNull} from \"../../utils/HtmlUtils\";\n\n// 获得随机数\nconst genNonDuplicateID = length => {\n    return Number(\n        Math.random()\n            .toString()\n            .substr(3, length) + Date.now()\n    ).toString(36);\n};\n\nexport default class DragModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.id = genNonDuplicateID(10);\n\n        if (isNull(props.width)) {\n            //默认30%\n            this.width = window.innerWidth * 0.3\n        } else if (Number.isInteger(props.width)) {\n            //如果是数字就默认px宽度\n            this.width =  props.width;\n        } else if (props.width.includes(\"%\")) {\n            //百分比宽度\n            this.width = Number.parseFloat(props.width.split(\"%\")[0]) / 100 * window.innerWidth\n        }else {\n            //px单位的硬编码宽度\n            this.width = Number.parseFloat(props.width.replace(\"px\", \"\"))\n        }\n\n        if (this.width >= window.innerWidth) {//超出屏幕宽度\n            this.width = window.innerWidth;\n        }\n\n        this.initLeft = (window.innerWidth - this.width) / 2;\n\n        this.dragDom = null; // 拖拽的目标元素\n        this.dragging = false; // 是否拖拽的开关\n        this.tLeft = 0; // ---|\n        this.tTop = 0; //  ------> 坐标轴\n    }\n\n    componentDidMount() {\n        this.initDragDom();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.dragDom) {\n            if (prevProps.visible === false && this.props.visible === true) {\n                this.onShowModal();\n            }\n        }else {\n            this.initDragDom();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        return this.props.visible || nextProps.visible;\n    }\n\n    /*\n     * 初始渲染时，直接获取 Modal 的 dom 会获取不到。\n     * 设置 ref 使用 findDOMNode 也获取不到。\n     * 只能在定时器中使用原生方式来获取。\n     * */\n    initDragDom = () => {\n        setTimeout(() => {\n            // 获取唯一标示元素\n            const dragDom = document.getElementsByClassName(`d_${this.id}`)[0];\n            if (dragDom) {\n                console.log(`d_${this.id} init`)\n                dragDom.style.left = `${this.initLeft}px`;\n                dragDom.style.width = `${this.width}px`\n                dragDom.style.minWidth = \"30%\"\n                dragDom.style.top = '100px'\n                dragDom.style.zIndex = 1000;\n                this.dragDom = dragDom;\n\n            }\n        });\n    };\n\n    onShowModal = () => {\n        console.log(`d_${this.id} show`)\n        //其他窗口降一层\n        Array.from(document.getElementsByClassName(\"drag_modal\")).forEach(item => (item.style.zIndex -= 1));\n        this.dragDom.style.zIndex = 1000;\n    }\n\n    onMouseDown = e => {\n        e.preventDefault();\n        this.dragging = true; // 激活拖拽状态\n        /*\n        ** 将当前所有涉及可拖拽的浮层的 zindex = 999\n        ** 将当前拖拽目标的 zindex = 1000\n        **/\n        Array.from(document.getElementsByClassName(\"drag_modal\")).forEach(item => (item.style.zIndex -= 1));\n        this.dragDom.style.zIndex = 1000;\n\n        /*\n        * getBoundingClientRect: 返回一个 DomRect 对象\n        *   包含该元素的 top、right、bottom、left 值，对应的是到屏幕上方和左边的距离，单位 px\n        * */\n        const dragDomRect = this.dragDom.getBoundingClientRect();\n        const left0 = e.clientX;\n        const top0 = e.clientY;\n\n        document.onmousemove = e => {\n            e.preventDefault();\n            if (this.dragging) {\n                this.dragDom.style.left = `${dragDomRect.left + e.clientX - left0}px`;\n                this.dragDom.style.top = `${dragDomRect.top + e.clientY - top0}px`;\n            }\n        };\n    };\n\n    onMouseUp = e => {\n        e.preventDefault();\n        this.dragging = false; // 停止移动状态\n        document.onmousemove = null; // 停止鼠标移动事件\n    };\n\n    render() {\n        const { children, title = \"Drag-Modal\", wrapClassName = \"\", isHidden=false, visible=false } = this.props;\n\n        return (\n            <Modal\n                {...this.props}\n                mask={false}\n                width=\"100%\"\n                wrapClassName={`drag_modal d_${this.id} ${wrapClassName}`}\n                ref={ele => this.modal = ele}\n                visible={(!isHidden) && visible}\n                title={\n                    <div\n                        className=\"drag_title\"\n                        onMouseDown={this.onMouseDown}\n                        onMouseUp={this.onMouseUp}\n                    >\n                        {title}\n                    </div>\n                }\n            >\n                {children}\n            </Modal>\n        );\n    }\n}","import React, {Component} from \"react\";\nimport {Button, Col, DatePicker, Form, Input, InputNumber, message, Row, Select} from \"antd\";\nimport {defineProperty, emptyFunc, For, If, InputSelect, isBlank, isNotNull, isNull} from \"../../utils/HtmlUtils\";\nimport DragModal from \"../drag-modal/DragModal\";\nconst { TextArea } = Input;\n\n/*\n * form config配置\n *\n * label：表单字段中文名\n * type：类型，有input,inputSelect,select,datePicker,textArea,inputNumber\n * key：表单字段名\n * disabled：是否可编辑\n * placeholder：没有输入值时的提示语\n * resources：用于各种select的资源，text为中文，value为key\n * min：用于inputNumber，限制数字最小值\n * max：用于inputNumber，限制数字最大值\n *\n * hidden：是否隐藏\n * submit：是否随表单提交\n * selectedIndex：如果提交的key和selectedRow的key不一样，则key为提交的key，selectedIndex为selectedRow的key\n */\nexport default class DefaultModalButton extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: isNull(this.props.visible, false),\n            loading: false,\n        }\n        for (const config of this.props.formConfig || []) {\n            this.state[config.key] = config.value || null;\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.visible !== this.props.visible && this.props.visible) {\n            this.handleShowModal();\n        }\n    }\n\n    setVisible = visible => {\n        if (this.props.onVisibleChange) {\n            this.props.onVisibleChange(visible);\n        }else {\n            this.setState({visible});\n        }\n    }\n\n    getVisible = () => {\n        return isNull(this.props.visible, this.state.visible);\n    }\n\n    handleShowModal = () => {\n        const { selectedRow={}, formConfig=[], onShowModal=emptyFunc } = this.props;\n        const [isShow=true, error] = onShowModal() || [];\n        if (isShow) {\n            const newState = {};\n            for (const config of formConfig) {\n                const selectedIndex = isNull(config.selectedIndex)? config.key: config.selectedIndex;\n                newState[config.key] = isNull(config.value)? selectedRow[selectedIndex]: config.value;\n                newState[config.key] = isBlank(newState[config.key])? null: newState[config.key];\n            }\n            this.showModal();\n            this.setState(newState);\n        }else {\n            message.error(error)\n        }\n    }\n\n    handleOk = async () => {\n        const { onSuccess=emptyFunc, formConfig=[] } = this.props;\n        const params = {};\n        for (const config of formConfig) {\n            const isTheGroup = isNull(config.groupBy) || For(config.groupBy).every((key, value) => this.state[key] === value);\n            if (config.submit !== false && isTheGroup) {\n                if (config.type === 'datePicker') {\n                    if (isNotNull(params[config.key] = this.state[config.key])) {\n                        params[config.key] = this.state[config.key].format('YYYY-MM-DD hh:mm:ss');\n                    }\n                }else if(config.type === 'list') {\n                    for (const childConfig of config.childConfig) {\n                        params[childConfig.key + 'List'] = this.state[config.key].map(item => item[childConfig.key]);\n                    }\n                }else if (isNotNull(config.mode)) {\n                    params[config.key] = Array.isArray(this.state[config.key])? this.state[config.key].join(\",\"): this.state[config.key]\n                }else {\n                    params[config.key] = this.state[config.key];\n                }\n            }\n        }\n        // 如果不是表单模态框，就是点击确定直接关闭模态框，否则设置按钮loading，等后台返回成功再关\n        if (isNotNull(this.props.modalRender)) {\n            this.closeModal();\n        }\n        try {\n            this.setState({loading: true});\n            const data = await this.props.updateApi(params);\n            onSuccess(data);\n            if (isNull(this.props.modalRender)) {\n                this.closeModal();\n            }\n        }finally {\n            this.setState({loading: false});\n        }\n    }\n\n    handleCancel = () => {\n\n    }\n\n    showModal = () => {\n        this.setVisible(true);\n    }\n\n    closeModal = () => {\n        this.setVisible(false);\n    }\n\n    handleChange = state => {\n        const newState = For (state).then((key, value) => {\n            return isBlank(value)? null: value;\n        })\n        this.setState(newState)\n    }\n\n    render() {\n        const { resources={}, formConfig=[], col=1 } = this.props\n        const params = this.state;\n        const onChange = this.handleChange;\n        return (\n            <span>\n                <Button style={this.props.buttonStyle || { marginLeft: 8 }}\n                        onClick={this.handleShowModal}\n                        disabled={isNull(this.props.disabled, false)}\n                        hidden={this.props.hidden}\n                        loading={this.state.loading}>\n                    {this.props.value || '编辑'}\n                </Button>\n                <DragModal\n                    confirmLoading={this.props.confirmLoading || this.state.loading}\n                    isHidden={this.props.isHidden}\n                    title={this.props.title || '标题'}\n                    visible={this.getVisible()}\n                    onOk={this.handleOk}\n                    onCancel={this.closeModal}\n                    width={this.props.width || (col * 400)}\n                    footer={this.props.footer}\n                    centered={this.props.centered}>\n                    {If(isNotNull(this.props.modalRender)).then(() => (\n                        this.props.modalRender(this.state)\n                    )).else(() => (\n                        converseToForm({formConfig, params, resources, col, onChange})\n                    ))}\n                </DragModal>\n            </span>\n        );\n    }\n}\n\nexport const converseToForm = ({formConfig=[], params={}, resources={}, col=1, size='default', onChange=emptyFunc, onSubmit=emptyFunc}) => (\n    <Form labelCol={{ span: 6 }} wrapperCol={{ span: 14 }} layout=\"horizontal\" size='small'>\n        <Row gutter={24}>\n            {For(formConfig).if(config => !config.hidden).flatThen(config => (\n                If(config.type === 'list').then(() => (\n                    For (params[config.key]).flatThen((param, jndex) => (\n                        For (config.childConfig).then((config) => (\n                            converseToFormItem(config, param, resources, col, size, config.key + '-' + jndex + '-' + config.key, onChange, onSubmit)\n                        )).filter(isNotNull)\n                    ))\n                )).else(() => (\n                    converseToFormItem(config, params, resources, col, size, config.key, onChange, onSubmit)\n                ))\n            )).filter(isNotNull)}\n        </Row>\n    </Form>\n)\n\nconst converseToFormItem = ({label,type,key,disabled,placeholder,resource,min,max,groupBy,mode,suffix,autoSize,col:itemCol=1,render}, params={}, resources={}, col=1, size='default', listKey=Math.random(), onChange=emptyFunc, onSubmit=emptyFunc) => (\n    If(isNull(groupBy) || For(groupBy).every((key, value) => params[key] === value)).then(() => (\n        <Col span={24 * itemCol / col} key={listKey}>\n            <Form.Item label={label} style={size === 'small'? {margin: 0}: {}}>\n                {If(type === 'input').then(() => (\n                    <Input value={params[key]} disabled={disabled} onChange={e => onChange(defineProperty({}, key, e.target.value))} placeholder={placeholder} suffix={suffix}/>\n                )).elseIf(type === 'inputSelect').then(() => (\n                    <InputSelect resource={resources[resource]} value={params[key]} disabled={disabled} onChange={value => onChange(defineProperty({}, key, value))}/>\n                )).elseIf(type === 'select').then(() => (\n                    <Select value={(params[key])} disabled={disabled} onChange={value => onChange(defineProperty({}, key, value))}>\n                        {For(resources[resource]).then((item, index) => (\n                            <Select.Option key={index} value={(item.value)}>{item.text}</Select.Option>\n                        ))}\n                    </Select>\n                )).elseIf(type === 'datePicker').then(() => (\n                    <DatePicker value={params[key]} showTime={true} onChange={value => onChange(defineProperty({}, key, value))} />\n                )).elseIf(type === 'textArea').then(() => (\n                    <TextArea value={params[key]} disabled={disabled} onChange={e => onChange(defineProperty({}, key, e.target.value))} placeholder={placeholder} autoSize={autoSize}/>\n                )).elseIf(type === 'inputNumber').then(() => (\n                    <InputNumber value={params[key]} disabled={disabled} onChange={value => onChange(defineProperty({}, key, value))} placeholder={placeholder} min={min} max={max} suffix={suffix}/>\n                )).elseIf(type === 'inputGroup').then(() => (\n                    render(params[key], value => onChange(defineProperty({}, key, value)))\n                )).endIf()}\n            </Form.Item>\n        </Col>\n    )).endIf()\n)","import React, {Component} from \"react\";\nimport DefaultModalButton from \"../../components/default-modal-button/DefaultModalButton\";\nimport {addJob} from \"../../api\";\n\nexport default class AddJob extends Component {\n    render() {\n        return (\n            <DefaultModalButton\n                {...this.props}\n                title=\"新增Job\"\n                value='新增Job'\n                formConfig={this.formConfig}\n                updateApi={addJob}\n            />\n        )\n    }\n\n    formConfig = [\n        {label: 'Job标题', key: 'title', type: 'input'},\n        {label: 'Job名*', key: 'name', type: 'input'},\n        {label: 'Job时钟*', key: 'cron', type: 'input'},\n    ];\n}","import React,{Component} from \"react\"\nimport { Modal, Button } from 'antd';\nimport {isNull} from \"../../utils/HtmlUtils\";\n\nexport default class SimpleModalButton extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            visible: false,\n            loading: false,\n        };\n    }\n\n    showModal = () => {\n        const onShowModal = this.props.onShowModal || (() => true);\n        const isShowModal = isNull(onShowModal(), true);\n        this.setState({visible: isShowModal})\n    };\n\n    handleOk = () => {\n        this.setState({loading: true})\n        const onOk = this.props.onOk || (async () => true);\n        onOk().then((isCloseModal = true) => {\n            this.setState({\n                visible: !isCloseModal,\n            })\n        }).finally(() => this.setState({loading: false}))\n    };\n\n    handleCancel = () => {\n        const onCancel = this.props.onCancel || (() => true);\n        const isCloseModal = isNull(onCancel(), true);\n        this.setState({visible: !isCloseModal})\n    };\n\n    render() {\n        const { visible } = this.state;\n        return (\n            <span>\n                <Button style={this.props.buttonStyle || {marginLeft: \"8px\"}}\n                        onClick={this.showModal}\n                        disabled={isNull(this.props.disabled, false)}\n                        hidden={this.props.hidden}\n                >{this.props.buttonText || this.props.title || '编辑'}</Button>\n                <Modal\n                    title={this.props.title || '标题'}\n                    visible={visible}\n                    onOk={this.handleOk}\n                    onCancel={this.handleCancel}\n                    width={this.props.width}\n                    footer={this.props.footer}\n                    centered={this.props.centered}\n                    confirmLoading={this.state.loading}\n                >\n                    {this.props.children}\n                </Modal>\n            </span>\n        );\n    }\n}\n// {If (Array.isArray(this.props.children) || ['span'].includes(this.props.children.type) || ['Form'].includes(this.props.children.type.name)).then(() => (\n//     this.props.children\n// )).else(() => (\n//     <this.props.children.type {...this.props.children.props} visible={this.state.visible}/>\n// ))}\n// {\n//     typeof this.props.children !== \"object\"\n//     || Array.isArray(this.props.children)\n//     || isNull(this.props.children.type)\n//     || this.props.children.type.name === \"Form\"\n//         ? this.props.children\n//         : React.cloneElement(this.props.children, {visible: this.state.visible})\n// }","import React, {Component} from \"react\";\nimport SimpleModalButton from \"../../components/simple-modal-button\";\nimport {startJob} from \"../../api\";\nimport {isEmptyObject} from \"../../utils/HtmlUtils\";\n\nexport default class StartJob extends Component {\n    startJob = async () => {\n        await startJob({name: this.props.selectedRow.name}).then(() => this.props.onSuccess())\n    }\n\n    render() {\n        const { selectedRow={} } = this.props\n        const { name, status} = selectedRow;\n        return (\n            <SimpleModalButton buttonStyle={{marginLeft: \"8px\"}} title=\"运行Job\" onOk={this.startJob} disabled={isEmptyObject(selectedRow) || status === 1}>\n                <span>\n                    确定运行Job：{name}\n                </span>\n            </SimpleModalButton>\n        )\n    }\n}","import React, {Component} from \"react\";\nimport SimpleModalButton from \"../../components/simple-modal-button\";\nimport {runJob} from \"../../api\";\nimport {isEmptyObject} from \"../../utils/HtmlUtils\";\n\nexport default class RunJob extends Component {\n    runJob = async () => {\n        await runJob({name: this.props.selectedRow.name}).then(() => this.props.onSuccess())\n    }\n\n    render() {\n        const { selectedRow={} } = this.props\n        const { name } = selectedRow;\n        return (\n            <SimpleModalButton buttonStyle={{marginLeft: \"8px\"}} title=\"运行一次\" onOk={this.runJob} disabled={isEmptyObject(selectedRow)}>\n                <span>\n                    确定运行一次：{name}\n                </span>\n            </SimpleModalButton>\n        )\n    }\n}","import React, {Component} from \"react\";\nimport SimpleModalButton from \"../../components/simple-modal-button\";\nimport {stopJob} from \"../../api\";\nimport {isEmptyObject} from \"../../utils/HtmlUtils\";\n\nexport default class StopJob extends Component {\n    stopJob = async () => {\n        await stopJob({name: this.props.selectedRow.name}).then(() => this.props.onSuccess())\n    }\n\n    render() {\n        const { selectedRow={} } = this.props\n        const { name, status} = selectedRow;\n        return (\n            <SimpleModalButton buttonStyle={{marginLeft: \"8px\"}} title=\"停止Job\" onOk={this.stopJob} disabled={isEmptyObject(selectedRow) || status === -1}>\n                <span>\n                    确定停止Job：{name}\n                </span>\n            </SimpleModalButton>\n        )\n    }\n}","import React, {Component} from \"react\";\nimport DefaultModalButton from \"../../components/default-modal-button/DefaultModalButton\";\nimport {editJob} from \"../../api\";\nimport {isEmptyObject} from \"../../utils/HtmlUtils\";\n\nexport default class EditJob extends Component {\n    render() {\n        const { selectedRow={} } = this.props\n        return (\n            <DefaultModalButton\n                {...this.props}\n                title=\"编辑Job\"\n                value='编辑Job'\n                formConfig={this.formConfig}\n                updateApi={editJob}\n                disabled={isEmptyObject(selectedRow)}\n            />\n        )\n    }\n\n    formConfig = [\n        {key: 'name', hidden: true},\n        {label: 'Job标题', key: 'title', type: 'input'},\n        {label: 'Job时钟*', key: 'cron', type: 'input'},\n    ];\n}","import JobManager from \"../pages/JobManager\";\nimport LogManager from \"../pages/LogManager\";\n\nexport const menuList = [\n    { title: \"定时任务管理\", key: \"/JobManager\", icon: \"video-camera\", component: JobManager},\n    { title: \"任务运行记录\", key: \"/LogManager\", icon: \"video-camera\", component: LogManager},\n]\n","import React, {Component} from \"react\";\nimport {listJob} from \"../../api\";\nimport DefaultTable from \"../../components/default-table\";\nimport {idRowKey} from \"../../utils/HtmlUtils\";\nimport AddJob from \"./AddJob\";\nimport StartJob from \"./StartJob\";\nimport RunJob from \"./RunJob\";\nimport StopJob from \"./StopJob\";\nimport EditJob from \"./EditJob\";\n\nexport default class JobManager extends Component {\n\n    columnsConfig = [\n        {title: 'Job标题', key: 'title', width: 300, type: 'search', ellipsis: true},\n        {title: 'Job名称', key: 'name', width: 300, type: 'search', ellipsis: true},\n        {title: 'Job时钟', key: 'cron', width: 300, type: 'search', ellipsis: true},\n        {title: '状态', key: 'status', width: 100, type: 'choose', chooseMap: 'statusList'},\n    ];\n\n    handleButtonsInit = (that) => {\n        const { state, handleUpdated } = that\n        const { selectedRows } = state\n        const selectedRow = selectedRows[0] || {}\n        return (\n            <>\n                <AddJob onSuccess={handleUpdated}/>\n                <EditJob selectedRow={selectedRow} onSuccess={handleUpdated}/>\n                <StartJob selectedRow={selectedRow} onSuccess={handleUpdated}/>\n                <RunJob selectedRow={selectedRow} onSuccess={handleUpdated}/>\n                <StopJob selectedRow={selectedRow} onSuccess={handleUpdated}/>\n            </>\n        )\n    }\n\n    handleResourcesInit = () => ({\n        statusList: [{value: 0, text: '就绪', tag: 'blue'}, {value: 1, text: '启用', tag: 'green'}, {value: -1, text: '停用', tag: 'red'}],\n    })\n\n    render() {\n        return (\n            <DefaultTable\n                isShowRowSelection={true}\n                needResourcesList={[]}\n                defaultPageSize={20}\n                rowKey={idRowKey}\n                columnsConfig={this.columnsConfig}\n                getDataApi={listJob}\n                onButtonsInit={this.handleButtonsInit}\n                onResourcesInit={this.handleResourcesInit}\n            />\n        )\n    }\n}","import React, {Component} from \"react\";\nimport {listLog} from \"../../api\";\nimport DefaultTable from \"../../components/default-table\";\nimport {idRowKey} from \"../../utils/HtmlUtils\";\nexport default class LogManager extends Component {\n\n    columnsConfig = [\n        {title: 'Job标题', key: 'name', width: 200, type: 'choose', chooseMap: 'jobNameResource'},\n        {title: '运行时间', key: 'runTime', width: 200},\n        {title: '运行结果', key: 'success', width: 100, type: 'choose', chooseMap: 'successList'},\n        {title: '失败原因', key: 'failReason', width: 500, ellipsis: true}\n    ];\n\n    handleButtonsInit = () => {\n        return (\n            <>\n            </>\n        )\n    }\n\n    handleResourcesInit = () => ({\n        successList: [{value: false, text: '失败', tag: 'red'}, {value: true, text: '成功', tag: 'green'}],\n    })\n\n    render() {\n        return (\n            <DefaultTable\n                needResourcesList={['jobNameResource']}\n                defaultPageSize={20}\n                rowKey={idRowKey}\n                columnsConfig={this.columnsConfig}\n                getDataApi={listLog}\n                onButtonsInit={this.handleButtonsInit}\n                onResourcesInit={this.handleResourcesInit}\n            />\n        )\n    }\n}","import React, {Component} from 'react';\nimport './index.less';\nimport {Button, Icon, Layout, Menu, Result, Typography} from \"antd\";\nimport {If, isNotNull} from \"../utils/HtmlUtils\";\nimport TweenOne from 'rc-tween-one';\nimport QueueAnim from 'rc-queue-anim';\nimport LoginModal from \"./LoginModal\";\nimport {isLogin, reqLogin, reqLoginOut} from \"../api\";\nimport {HashRouter, Link} from \"react-router-dom\";\nimport {menuList} from \"../config/menuConfig\";\nconst { Header, Content, Sider } = Layout;\nconst { Title} = Typography;\n\nconst menuMap = {};\nmenuList.forEach(item => {\n    menuMap[item.key] = item;\n})\n\nexport default class App extends Component{\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            collapsed: false,\n            user: null,\n            selectedKey: null,\n        }\n    }\n\n    componentDidMount() {\n        this.checkIsLogin();\n    }\n\n    checkIsLogin = () => {\n        isLogin().then(this.login).catch(this.loginOut)\n    }\n\n    login = (user) => {\n        this.setState({user});\n    }\n\n    loginOut = () => {\n        this.setState({user: null});\n    }\n\n    reqLoginOut = () => {\n        reqLoginOut().then(this.loginOut)\n    }\n\n    reqLogin = (username, password, callback) => {\n        reqLogin(username, password).then(this.login).catch(callback)\n    }\n\n    toggleCollapsed = () => {\n        this.setState({\n            collapsed: !this.state.collapsed,\n        });\n    }\n\n    handleSelected = (selectedKey) => {\n        this.setState({selectedKey})\n    }\n\n    createMenu = (menuList) => {\n        return menuList.map((menu) => {\n            return (\n                <Menu.Item key={menu.key} title={menu.title}>\n                    <Link to={menu.key} onClick={this.handleSelected.bind(this, menu.key)}>\n                        {If (isNotNull(menu.icon)).then(() => (\n                            <Icon type={menu.icon} />\n                        )).endIf()}\n                        <span>{menu.title}</span>\n                    </Link>\n                </Menu.Item>\n            )\n        })\n    }\n\n    render() {\n        const selected = menuMap[this.state.selectedKey];\n        return (\n            <HashRouter>\n                <Layout>\n                    <Header style={{background: \"white\", height: 'auto'}}>\n                        <div style={{float: \"left\", width: \"150px\"}}>\n                            <Title level={2} strong={false} style={{margin: \"0px\"}} className=\"primary-color\">\n                                任务后台\n                            </Title>\n                        </div>\n                        <Menu mode=\"horizontal\" style={{float: \"right\"}} selectable={false}>\n                            {If(isNotNull(this.state.user)).then(() => (\n                                <Menu.Item onClick={this.reqLoginOut}>\n                                    <Icon type=\"logout\" />退出登录\n                                </Menu.Item>\n                            )).endIf()}\n                        </Menu>\n                    </Header>\n                    <Layout>\n                        <Sider width={200} collapsed={this.state.collapsed} theme=\"light\">\n                            {If(isNotNull(this.state.user)).then(() => <>\n                                <div style={{ width: '100%', textAlign: 'right' }}>\n                                    <Button onClick={this.toggleCollapsed} type=\"link\">\n                                        <Icon type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'} />\n                                    </Button>\n                                </div>\n                                <QueueAnim duration={[200, 0]} interval={[50, 0]} type={['left']} component={Menu} componentProps={{mode: \"inline\", selectedKeys: this.state.selectedKey, style: {borderRight: 0}}}>\n                                    {this.createMenu(menuList)}\n                                </QueueAnim>\n                            </>).endIf()}\n                        </Sider>\n                        <Content>\n                            {If(isNotNull(this.state.user)).then(() => <>\n                                {If (isNotNull(this.state.selectedKey)).then(() => (\n                                    // <TweenOne animation={{y: 0, opacity: 1, duration: 200}} style={{ transform: 'translateY(-10px)' , opacity: 0}}>\n                                        <selected.component {...this.state}/>\n                                    // </TweenOne>\n                                )).else(() => (\n                                    <Result\n                                        style={{ marginTop: 100 }}\n                                        icon={<img alt='' src='/min-logo.png'/>}\n                                        title=\"欢迎来到TiliTili定时任务后台!\"\n                                    />\n                                ))}\n                            </>).else(() => <>\n                                <LoginModal onLogin={this.reqLogin} onRegister={this.reqRegister}/>\n                            </>)}\n                        </Content>\n                    </Layout>\n                </Layout>\n            </HashRouter>\n        )\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. Index is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"./utils/prototypeUtil\"\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}